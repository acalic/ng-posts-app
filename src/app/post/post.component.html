<div *ngIf="post$ as item">
    <div class="row">
        <div class="col-12 col-md-6">
            <div class="card">
                <h5 class="card-header">Post preview</h5>
                <div class="card-body">
                    <p><b>ID:</b> {{ item.id }}</p>
                    <p><b>Location:</b> {{ item.location }}</p>
                    <p><b>Author:</b> {{ item.author }}</p>
                    <p><b>Text:</b> {{ item.text }}</p>
                    <p><b>Time:</b> {{ item.time * 1000 | date }}</p>
                </div>
            </div>
        </div>
        <div class="col-12 col-md-6">
            <div class="card">
                <h5 class="card-header">Edit data</h5>
                <div class="card-body">
                    <form [formGroup]="myForm">
                        <div class="form-group" [ngClass]="displayFieldCss('location')"                        >
                            <label class="control-label" for="location">Location</label>
                            <input type="text" class="form-control" id ="location" formControlName="location">
                            <app-field-error-display 
                                [displayError]="isFieldValid('location')" 
                                errorMsg="This field cannot be empty">
                            </app-field-error-display>
                        </div>
                        <div class="form-group">
                            <label class="control-label" for="author">Author</label>
                            <input type="text" class="form-control" id ="author" formControlName="author">
                            <app-field-error-display 
                                [displayError]="isFieldValid('author')" 
                                errorMsg="This field cannot be empty">
                            </app-field-error-display>
                        </div>
                        <button type="submit" class="btn btn-primary mr-2" (click)="openConfirmUpdateModal(template)" [disabled]="!myForm.valid || myForm.pristine">Update</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <button class="btn btn-outline-secondary mt-3" (click)="backClicked()"><fa-icon [icon]="faArrowLeft" size="xs" class="mr-2 d-inline-flex justify-content-center align-items-center"></fa-icon>Back</button>
</div>

<ng-template #template>
    <div class="modal-body text-center">
      <p>Confirm changes?</p>
      <button type="button" class="btn btn-outline-primary mr-2" (click)="confirmUpdate()" >Yes</button>
      <button type="button" class="btn btn-outline-secondary" (click)="declineUpdate()" >No</button>
    </div>
</ng-template>